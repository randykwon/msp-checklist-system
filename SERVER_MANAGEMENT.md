# ğŸš€ ì„œë²„ ê´€ë¦¬ ê°€ì´ë“œ

AWS MSP ì²´í¬ë¦¬ìŠ¤íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„œë²„ ê´€ë¦¬ë¥¼ ìœ„í•œ ì¢…í•© ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸

### 1. ğŸ”„ ì„œë²„ ì¬ì‹œì‘ (ì „ì²´ ê¸°ëŠ¥)
```bash
./restart-server.sh
# ë˜ëŠ”
npm run restart
```

**ê¸°ëŠ¥:**
- ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì™„ì „ ì¢…ë£Œ
- Node.js ë²„ì „ ìë™ ì„¤ì • (NVM ì‚¬ìš© ì‹œ)
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì‹œì‘ (í¬íŠ¸ 3010)
- íŒŒì¼ ê°ì‹œ ì‹œìŠ¤í…œ ì‹œì‘
- ì„œë²„ ìƒíƒœ ìë™ í™•ì¸
- ìƒì„¸í•œ ë¡œê·¸ ë° ìƒíƒœ ì •ë³´ ì œê³µ

**ì‚¬ìš© ì‹œê¸°:**
- ì²˜ìŒ ì„œë²„ë¥¼ ì‹œì‘í•  ë•Œ
- ì„¤ì • ë³€ê²½ í›„ ì™„ì „í•œ ì¬ì‹œì‘ì´ í•„ìš”í•  ë•Œ
- ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ í´ë¦° ì¬ì‹œì‘ì´ í•„ìš”í•  ë•Œ

### 2. âš¡ ë¹ ë¥¸ ì¬ì‹œì‘ (ê°„ë‹¨ ë²„ì „)
```bash
./quick-restart.sh
# ë˜ëŠ”
npm run quick-restart
```

**ê¸°ëŠ¥:**
- ë¹ ë¥¸ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ë° ì¬ì‹œì‘
- ìµœì†Œí•œì˜ ì¶œë ¥ìœ¼ë¡œ ì‹ ì†í•œ ì¬ì‹œì‘
- ê°œë°œ ì¤‘ ë¹ ë¥¸ ì¬ì‹œì‘ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©

**ì‚¬ìš© ì‹œê¸°:**
- ê°œë°œ ì¤‘ ì½”ë“œ ë³€ê²½ í›„ ë¹ ë¥¸ ì¬ì‹œì‘
- ê°„ë‹¨í•œ ë¬¸ì œ í•´ê²°
- ì‹œê°„ì´ ì¤‘ìš”í•œ ìƒí™©

### 3. ğŸ›‘ ì„œë²„ ì¤‘ì§€
```bash
./stop-server.sh
# ë˜ëŠ”
npm run stop
```

**ê¸°ëŠ¥:**
- ëª¨ë“  ê´€ë ¨ í”„ë¡œì„¸ìŠ¤ ì•ˆì „í•˜ê²Œ ì¢…ë£Œ
- í¬íŠ¸ 3010 í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
- íŒŒì¼ ê°ì‹œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
- npm ë° Next.js í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
- ë¡œê·¸ íŒŒì¼ ì •ë³´ í‘œì‹œ
- ì¢…ë£Œ ìƒíƒœ í™•ì¸

**ì‚¬ìš© ì‹œê¸°:**
- ì„œë²„ë¥¼ ì™„ì „íˆ ì¤‘ì§€í•´ì•¼ í•  ë•Œ
- ì‹œìŠ¤í…œ ì¢…ë£Œ ì „
- ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì„œë²„ë¥¼ ì‹œì‘í•˜ê¸° ì „

### 4. ğŸ“Š ì„œë²„ ìƒíƒœ í™•ì¸
```bash
./server-status.sh
# ë˜ëŠ”
npm run status
```

**ê¸°ëŠ¥:**
- ì›¹ ì„œë²„ ìƒíƒœ (í¬íŠ¸ 3010)
- íŒŒì¼ ê°ì‹œ ì‹œìŠ¤í…œ ìƒíƒœ
- Node.js í™˜ê²½ ì •ë³´
- ë¡œê·¸ íŒŒì¼ ìƒíƒœ ë° ì˜¤ë¥˜ í™•ì¸
- ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰
- ë„¤íŠ¸ì›Œí¬ ìƒíƒœ
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- ì¢…í•© ìƒíƒœ ìš”ì•½

**ì‚¬ìš© ì‹œê¸°:**
- ì„œë²„ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ
- ë¬¸ì œ ì§„ë‹¨ì´ í•„ìš”í•  ë•Œ
- ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§

## ğŸ¯ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ê°œë°œ ì‹œì‘ ì‹œ
```bash
# 1. ì„œë²„ ìƒíƒœ í™•ì¸
./server-status.sh

# 2. ì„œë²„ê°€ ì¤‘ì§€ë˜ì–´ ìˆë‹¤ë©´ ì‹œì‘
./restart-server.sh

# 3. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3010 ì ‘ì†
```

### ì½”ë“œ ë³€ê²½ í›„
```bash
# ë¹ ë¥¸ ì¬ì‹œì‘ (ëŒ€ë¶€ë¶„ì˜ ê²½ìš°)
./quick-restart.sh

# ë˜ëŠ” ì™„ì „í•œ ì¬ì‹œì‘ (ì„¤ì • ë³€ê²½ ì‹œ)
./restart-server.sh
```

### ë¬¸ì œ í•´ê²° ì‹œ
```bash
# 1. í˜„ì¬ ìƒíƒœ í™•ì¸
./server-status.sh

# 2. ë¡œê·¸ í™•ì¸
tail -f server.log

# 3. ì™„ì „í•œ ì¬ì‹œì‘
./stop-server.sh
./restart-server.sh
```

### ì‘ì—… ì¢…ë£Œ ì‹œ
```bash
# ì„œë²„ ì¤‘ì§€
./stop-server.sh
```

## ğŸ“ ë¡œê·¸ íŒŒì¼

### server.log
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ë¡œê·¸
- Next.js ì»´íŒŒì¼ ì •ë³´
- HTTP ìš”ì²­/ì‘ë‹µ ë¡œê·¸
- ì˜¤ë¥˜ ë° ê²½ê³  ë©”ì‹œì§€

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f server.log

# ì˜¤ë¥˜ë§Œ í™•ì¸
grep -i error server.log

# ìµœê·¼ 20ì¤„ í™•ì¸
tail -20 server.log
```

### file-watcher.log
- íŒŒì¼ ê°ì‹œ ì‹œìŠ¤í…œ ë¡œê·¸
- íŒŒì¼ ë³€ê²½ ê°ì§€ ì •ë³´
- ë³€í™˜ ì‘ì—… ë¡œê·¸

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f file-watcher.log

# ìµœê·¼ ë¡œê·¸ í™•ì¸
tail -10 file-watcher.log
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### í¬íŠ¸ 3010ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ê²½ìš°
```bash
# í¬íŠ¸ ì‚¬ìš© í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i:3010

# ê°•ì œ ì¢…ë£Œ
./stop-server.sh

# ì¬ì‹œì‘
./restart-server.sh
```

### Node.js ë²„ì „ ë¬¸ì œ
```bash
# í˜„ì¬ ë²„ì „ í™•ì¸
node --version

# NVM ì‚¬ìš© ì‹œ ì˜¬ë°”ë¥¸ ë²„ì „ìœ¼ë¡œ ë³€ê²½
nvm use 20.9.0

# ì¬ì‹œì‘
./restart-server.sh
```

### ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# 1. ìƒíƒœ í™•ì¸
./server-status.sh

# 2. ë¡œê·¸ í™•ì¸
cat server.log

# 3. ìˆ˜ë™ ì‹œì‘ìœ¼ë¡œ ì˜¤ë¥˜ í™•ì¸
cd msp-checklist
npm run dev
```

### íŒŒì¼ ê°ì‹œê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# 1. íŒŒì¼ ê°ì‹œ ë¡œê·¸ í™•ì¸
cat file-watcher.log

# 2. ìˆ˜ë™ ì‹œì‘
npm run watch

# 3. msp_data ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
ls -la msp_data/
```

## ğŸš¨ ì£¼ì˜ì‚¬í•­

1. **ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ**: ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©´ ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”
   ```bash
   chmod +x *.sh
   ```

2. **ì‘ì—… ë””ë ‰í† ë¦¬**: ìŠ¤í¬ë¦½íŠ¸ëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤

3. **í¬íŠ¸ ì¶©ëŒ**: ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í¬íŠ¸ 3010ì„ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šì€ì§€ í™•ì¸í•˜ì„¸ìš”

4. **ë¡œê·¸ íŒŒì¼ í¬ê¸°**: ë¡œê·¸ íŒŒì¼ì´ ë„ˆë¬´ ì»¤ì§€ë©´ ì •ê¸°ì ìœ¼ë¡œ ì •ë¦¬í•˜ì„¸ìš”
   ```bash
   # ë¡œê·¸ íŒŒì¼ í¬ê¸° í™•ì¸
   du -h *.log
   
   # ë¡œê·¸ íŒŒì¼ ì •ë¦¬ (ë°±ì—… í›„)
   cp server.log server.log.backup
   > server.log
   ```

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ì§€ì†ë˜ë©´ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:
1. **Node.js ë²„ì „** (22.x ì´ìƒ ê¶Œì¥)
   ```bash
   node --version  # v22.x.x ì´ìƒ í•„ìš”
   ```
2. **npm íŒ¨í‚¤ì§€ ì„¤ì¹˜ ìƒíƒœ**
   ```bash
   npm list --depth=0
   ```
3. **í¬íŠ¸ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€**
   ```bash
   # Ubuntu/macOS
   lsof -i:3010
   lsof -i:3011
   
   # Amazon Linux
   ss -tlnp | grep :3010
   ss -tlnp | grep :3011
   ```
4. **ë¡œê·¸ íŒŒì¼ì˜ ì˜¤ë¥˜ ë©”ì‹œì§€**
   ```bash
   tail -f server.log
   tail -f admin-server.log
   ```

### ìš´ì˜ì²´ì œë³„ ì¶”ê°€ í™•ì¸ì‚¬í•­

#### Ubuntu 22.04 LTS
```bash
# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
sudo ufw status

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
systemctl --user status
```

#### Amazon Linux 2023
```bash
# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
sudo firewall-cmd --list-all

# SELinux ìƒíƒœ í™•ì¸ (ë¬¸ì œ ë°œìƒ ì‹œ)
getenforce
sudo ausearch -m avc -ts recent
```

ë” ìì„¸í•œ ì •ë³´ëŠ” `./server-status.sh`ë¥¼ ì‹¤í–‰í•˜ì—¬ ì „ì²´ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”.