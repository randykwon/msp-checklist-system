# MSP ì²´í¬ë¦¬ìŠ¤íŠ¸ ì„œë²„ ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ê°€ì´ë“œ

## ğŸ“‹ ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡

### ğŸš€ ê¸°ë³¸ ì„œë²„ ê´€ë¦¬
- `./start-dev.sh` - ê°œë°œ í™˜ê²½ ì „ì²´ ì‹œì‘ (ì˜ì¡´ì„± ì„¤ì¹˜, í™˜ê²½ í™•ì¸ í¬í•¨)
- `./restart-servers.sh` - ì„œë²„ ì¬ì‹œì‘ (ë©”ì¸ + ê´€ë¦¬ì)
- `./stop-servers.sh` - ëª¨ë“  ì„œë²„ ì¤‘ì§€
- `./server-status.sh` - ì„œë²„ ìƒíƒœ í™•ì¸

### âš¡ ë¹ ë¥¸ ì‘ì—…
- `./quick-restart.sh` - ë¹ ë¥¸ ì¬ì‹œì‘ (ë¡œê·¸ í¬í•¨)

## ğŸ¯ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì²˜ìŒ ì‹œì‘í•  ë•Œ
```bash
./start-dev.sh
```
- ì˜ì¡´ì„± ì„¤ì¹˜ í™•ì¸
- í™˜ê²½ ì„¤ì • í™•ì¸
- ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ í™•ì¸
- ì„œë²„ ì‹œì‘ (tmux ì„¸ì…˜ ë˜ëŠ” ë°±ê·¸ë¼ìš´ë“œ)

### ê°œë°œ ì¤‘ ì„œë²„ ì¬ì‹œì‘
```bash
./restart-servers.sh
```
- ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì•ˆì „í•˜ê²Œ ì¢…ë£Œ
- ë©”ì¸ ì„œë²„(3010) + ê´€ë¦¬ì ì„œë²„(3011) ì¬ì‹œì‘
- ìƒíƒœ í™•ì¸ ë° ì ‘ì† ì •ë³´ í‘œì‹œ

### ë¹ ë¥¸ ì¬ì‹œì‘ (ë¡œê·¸ í™•ì¸ìš©)
```bash
./quick-restart.sh
```
- ë¹ ë¥¸ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ë° ì¬ì‹œì‘
- ëª¨ë“  ë¡œê·¸ë¥¼ server.logì— ê¸°ë¡
- PID íŒŒì¼ ìƒì„±

### ì„œë²„ ìƒíƒœ í™•ì¸
```bash
./server-status.sh
```
- í¬íŠ¸ ì‚¬ìš© ìƒíƒœ
- ì„œë²„ ì‘ë‹µ í™•ì¸
- í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
- ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ìƒíƒœ
- ë¡œê·¸ íŒŒì¼ ì •ë³´

### ì„œë²„ ì™„ì „ ì¤‘ì§€
```bash
./stop-servers.sh
```
- ëª¨ë“  ê´€ë ¨ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
- í¬íŠ¸ ì •ë¦¬
- ì¢…ë£Œ ìƒíƒœ í™•ì¸

## ğŸ”§ ê³ ê¸‰ ì‚¬ìš©ë²•

### tmux ì„¸ì…˜ ê´€ë¦¬ (start-dev.sh ì‚¬ìš© ì‹œ)
```bash
# tmux ì„¸ì…˜ í™•ì¸
tmux attach -t msp-servers

# ì°½ ì „í™˜ (Ctrl+B, ìˆ«ìí‚¤)
# 0: ë©”ì¸ ì„œë²„
# 1: ê´€ë¦¬ì ì„œë²„

# tmux ì„¸ì…˜ ì¢…ë£Œ
tmux kill-session -t msp-servers
```

### ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
```bash
# ì „ì²´ ë¡œê·¸
tail -f server.log

# ì—ëŸ¬ë§Œ í™•ì¸
tail -f server.log | grep -i error

# íŠ¹ì • ì‹œê°„ëŒ€ ë¡œê·¸
grep "2024-12-20 15:" server.log
```

### í”„ë¡œì„¸ìŠ¤ ìˆ˜ë™ ê´€ë¦¬
```bash
# ì‹¤í–‰ ì¤‘ì¸ ì„œë²„ í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep -E "(next dev|npm.*dev)"

# íŠ¹ì • í¬íŠ¸ ì‚¬ìš© í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i:3010
lsof -i:3011

# í”„ë¡œì„¸ìŠ¤ ê°•ì œ ì¢…ë£Œ
kill -9 <PID>
```

## ğŸš¨ ë¬¸ì œ í•´ê²°

### í¬íŠ¸ê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¼ ë•Œ
```bash
# í¬íŠ¸ ì‚¬ìš© í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i:3010
lsof -i:3011

# ê°•ì œ ì¢…ë£Œ
lsof -ti:3010 | xargs kill -9
lsof -ti:3011 | xargs kill -9
```

### ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•Šì„ ë•Œ
1. ì˜ì¡´ì„± ì¬ì„¤ì¹˜
```bash
cd msp-checklist && npm install
cd admin && npm install
```

2. ìºì‹œ ì •ë¦¬
```bash
cd msp-checklist && npm run build
cd admin && npm run build
```

3. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
```bash
# .env.local íŒŒì¼ë“¤ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
```

### ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ì œ
```bash
# ê´€ë¦¬ì ê³„ì • ìƒì„±
node create-admin.cjs

# ìš´ì˜ì ê³„ì • ìƒì„±  
node create-operator.cjs

# ìŠˆí¼ê´€ë¦¬ìë¡œ ì—…ê·¸ë ˆì´ë“œ
node upgrade-to-superadmin.cjs
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ì„œë²„ ì„±ëŠ¥ í™•ì¸
```bash
# CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
top -p $(pgrep -f "next dev")

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ
netstat -tulpn | grep -E ":301[01]"
```

### ë¡œê·¸ ë¶„ì„
```bash
# ì—ëŸ¬ í†µê³„
grep -c "ERROR" server.log

# ìµœê·¼ 1ì‹œê°„ ë¡œê·¸
grep "$(date '+%Y-%m-%d %H')" server.log

# ì ‘ì† ë¡œê·¸ (ìˆëŠ” ê²½ìš°)
grep "GET\|POST" server.log | tail -20
```

## ğŸ¯ ê¶Œì¥ ì›Œí¬í”Œë¡œìš°

### ì¼ë°˜ì ì¸ ê°œë°œ ì‹œì‘
1. `./start-dev.sh` - ì „ì²´ í™˜ê²½ ì‹œì‘
2. `./server-status.sh` - ìƒíƒœ í™•ì¸
3. ê°œë°œ ì‘ì—… ì§„í–‰
4. í•„ìš”ì‹œ `./restart-servers.sh` - ì¬ì‹œì‘
5. ì‘ì—… ì™„ë£Œ í›„ `./stop-servers.sh` - ì¢…ë£Œ

### ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
1. `./quick-restart.sh` - ë¹ ë¥¸ ì¬ì‹œì‘
2. `tail -f server.log` - ë¡œê·¸ í™•ì¸
3. í…ŒìŠ¤íŠ¸ ì§„í–‰

### ë¬¸ì œ ë°œìƒ ì‹œ
1. `./server-status.sh` - í˜„ì¬ ìƒíƒœ íŒŒì•…
2. `./stop-servers.sh` - ì™„ì „ ì¤‘ì§€
3. ë¬¸ì œ í•´ê²° (ì˜ì¡´ì„±, í™˜ê²½ë³€ìˆ˜ ë“±)
4. `./start-dev.sh` - ë‹¤ì‹œ ì‹œì‘